"use strict";(self.webpackChunkdemo_blog=self.webpackChunkdemo_blog||[]).push([[765],{8652:(i,c,g)=>{g.r(c),g.d(c,{data:()=>l});const l={key:"v-7e666fa2",path:"/edu%E6%8C%96%E6%8E%98%E6%80%9D%E8%B7%AF/%E7%AC%AC%E4%B8%89%E6%9B%B4%EF%BC%9A%E6%8E%A5%E5%8F%A3%E6%BC%8F%E6%B4%9E%E5%AE%9E%E6%88%98.html",title:"第三更--接口漏洞实战",lang:"zh-CN",frontmatter:{date:"2022/08/20 21:03",coverUrl:"https://img-blog.csdnimg.cn/58f17668983d4a19989b171319c0b16d.png",stick:!1,keyword:"渗透测试,EDU,web安全",description:"接口漏洞实战",title:"第三更--接口漏洞实战",tag:["edu挖掘思路"],categories:["edu挖掘思路"]},excerpt:"",headers:[],git:{updatedTime:1662200606e3,contributors:[{name:"misdazzling",email:"359405846@qq.com",commits:1}]}}},4962:(i,c,g)=>{g.r(c),g.d(c,{default:()=>_});var l=g(6252);const t=(0,l._)("h1",{id:"接口漏洞实战",tabindex:"-1"},[(0,l._)("a",{class:"header-anchor",href:"#接口漏洞实战","aria-hidden":"true"},"#"),(0,l.Uk)(" 接口漏洞实战")],-1),a=(0,l._)("p",null,"前言： 在我们信息收集获取webvpn或者sslvpn后，我们就可以进入一站式服务大厅进行漏洞挖掘。",-1),o=(0,l._)("p",null,[(0,l.Uk)("一、漏洞介绍： 1.水平越权访问是一种“基于数据的访问控制”设计缺陷引起的漏洞。由于服务器端在接收到请求数据进行操作时没有判断数据的所属人/所属部门而导致的越权数据访问漏洞，"),(0,l._)("strong",null,"而这种越权最容易出现的位置就是？Id=（传参值） 和post传参的参数中，或者存在个人信息页面，个人资料这些隐藏的接口中"),(0,l.Uk)(" 2.方法一： 往往在挖掘过程程中，拿到同一个站点，别人能挖掘出水平越权或者垂直越权，而你却不能发现，那些因为这些越权漏洞的传参值都是接口在进行，所以我们在挖掘的过程中可以打开burp抓住每一个包，然后再去看burp中的http历史记录，查看接口信息，在进行测试 "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/8afba1a773ed4ca69b08c02ec70dc579.png",data:"aurora"})],-1),n=(0,l._)("p",null,[(0,l.Uk)("如上图一样，如果在站点页面是无法看见?sid这个参数的，而你在burp历史包中即可以看见此参数，这个参数就是个人身份的参数，如果没鉴权，那么水平越权就到手。 方法二： 直接使用浏览器的控制台中的网络即可查找，比如： "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/58f17668983d4a19989b171319c0b16d.png",data:"aurora"})],-1),r=(0,l._)("p",null,[(0,l.Uk)("可以看出这个页面，你根本没有任何办法测试水平越权，但是你可以通过查看接口的办法将个人信息的接口查找出来后进行测试： "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/fa698d70625a451ca0bfe33348c6e872.png",data:"aurora"})],-1),s=(0,l._)("p",null,[(0,l.Uk)("调用后，你可以将参数？abllid=参数值换为别人的参数，即可测试存在越权不： "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/755d80ecc9bf4f7f9b46ee35f33c73e6.png",data:"aurora"})],-1),d=(0,l._)("p",null,[(0,l.Uk)("二、案例（某证书大学的挖掘）： "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/0fbb59421d874d31ad660fbc3d0fc981.png",data:"aurora"})],-1),b=(0,l._)("p",null,[(0,l.Uk)("（这次是打的组合拳，我都没有想到在B站点的接口中泄露全校师生的values，所以在挖一个学校的时候，不要着急提交漏洞，应该慢慢的全部系统的都分析一下，遇见有用的就记录下来） "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/45d3ce00e62746aeb845dbd156050021.png",data:"aurora"})],-1),p=(0,l._)("p",null,[(0,l.Uk)("第二处漏洞： "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/8306fffcfe0a4e018adb9547b3633cc6.png",data:"aurora"})],-1),e=(0,l._)("p",null,[(0,l.Uk)("可以清楚的看见，sfz是进行了加密处理的，但是你在f12查看个人接口的时候，你会发现接口中的数据全是清晰可见 "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/85acb92d5a5f4f08a7f2c862bd15d27d.png",data:"aurora"})],-1),m=(0,l._)("p",null,[(0,l.Uk)("所以挖越权漏洞要多调用burp的历史记录或者f12查看接口，往往对接口的鉴权是程序员经常忽略的。 三、方法三使用脚本jsfind进行查找： 站点： "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/d035565a2bfb4354952d20204b69251f.png",data:"aurora"})],-1),u=(0,l._)("p",null,[(0,l.Uk)("使用脚本： "),(0,l._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"在这里插入图片描述",originSrc:"https://img-blog.csdnimg.cn/d30192b6e7b54e349bc292df77811b54.png",data:"aurora"})],-1),f=(0,l._)("p",null,"可以看出很多接口，访问即可，有前台未授权上传和前台ssrf 就不上图了",-1),h={},_=(0,g(3744).Z)(h,[["render",function(i,c){return(0,l.wg)(),(0,l.iD)(l.HY,null,[t,a,o,n,r,s,d,b,p,e,m,u,f],64)}]])}}]);